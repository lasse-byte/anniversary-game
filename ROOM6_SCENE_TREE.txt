# Room 6 Scene Tree Structure

Room6 (Node2D) [room_final.gd]
â”œâ”€â”€ ColorRect (Background)
â”‚   â””â”€â”€ Size: 2200Ã—800, Color: Soft Pink
â”‚
â”œâ”€â”€ Label (Title)
â”‚   â””â”€â”€ Text: "The Final Chapter â¤ï¸"
â”‚   â””â”€â”€ Position: (400, 50), Size: 1400Ã—100
â”‚   â””â”€â”€ Font: 56px, Centered
â”‚
â”œâ”€â”€ Floor (StaticBody2D)
â”‚   â”œâ”€â”€ CollisionShape2D
â”‚   â”‚   â””â”€â”€ Position: (1100, 750)
â”‚   â”‚   â””â”€â”€ Shape: 2200Ã—100 rectangle
â”‚   â””â”€â”€ ColorRect (Visual)
â”‚       â””â”€â”€ Position: (0, 700), Size: 2200Ã—100
â”‚       â””â”€â”€ Color: Brown
â”‚
â”œâ”€â”€ Player (CharacterBody2D) [Instance from player.tscn]
â”‚   â””â”€â”€ Initial Position: (100, 650)
â”‚   â””â”€â”€ Spawns at left side of room
â”‚
â”œâ”€â”€ CenterArea (Area2D) [Confetti Trigger]
â”‚   â”œâ”€â”€ Position: (1100, 650) - Room center
â”‚   â”œâ”€â”€ CollisionShape2D
â”‚   â”‚   â””â”€â”€ Shape: 400Ã—100 rectangle
â”‚   â””â”€â”€ Signal: body_entered â†’ _on_center_area_body_entered()
â”‚
â”œâ”€â”€ DraggableTextBox (TextEdit) [draggable_textbox.gd]
â”‚   â”œâ”€â”€ Position: (600, 250)
â”‚   â”œâ”€â”€ Size: 1000Ã—300
â”‚   â”œâ”€â”€ Font Size: 32px
â”‚   â”œâ”€â”€ Background: Cream (90% opacity)
â”‚   â”œâ”€â”€ Text Color: Dark Brown
â”‚   â”œâ”€â”€ Word Wrap: Enabled
â”‚   â””â”€â”€ Features:
â”‚       â”œâ”€â”€ Click to edit text
â”‚       â””â”€â”€ Click and drag to reposition
â”‚
â”œâ”€â”€ ConfettiLeft (GPUParticles2D)
â”‚   â”œâ”€â”€ Position: (100, 400) - Left side
â”‚   â”œâ”€â”€ Amount: 150 particles
â”‚   â”œâ”€â”€ Direction: Right and down (â†’ â†˜)
â”‚   â”œâ”€â”€ Lifetime: 3 seconds
â”‚   â”œâ”€â”€ One-Shot: True
â”‚   â””â”€â”€ Material: ParticleProcessMaterial
â”‚       â”œâ”€â”€ Emission: 50Ã—200 box
â”‚       â”œâ”€â”€ Direction: (1, -0.5, 0)
â”‚       â”œâ”€â”€ Velocity: 200-350
â”‚       â”œâ”€â”€ Gravity: (0, 300, 0)
â”‚       â”œâ”€â”€ Rotation: Â±360Â°/sec
â”‚       â”œâ”€â”€ Scale: 3-8 pixels
â”‚       â””â”€â”€ Colors: Pink â†’ Yellow â†’ Blue
â”‚
â”œâ”€â”€ ConfettiRight (GPUParticles2D)
â”‚   â”œâ”€â”€ Position: (2100, 400) - Right side
â”‚   â”œâ”€â”€ Amount: 150 particles
â”‚   â”œâ”€â”€ Direction: Left and down (â† â†™)
â”‚   â”œâ”€â”€ Lifetime: 3 seconds
â”‚   â”œâ”€â”€ One-Shot: True
â”‚   â””â”€â”€ Material: ParticleProcessMaterial
â”‚       â”œâ”€â”€ Emission: 50Ã—200 box
â”‚       â”œâ”€â”€ Direction: (-1, -0.5, 0)
â”‚       â”œâ”€â”€ Velocity: 200-350
â”‚       â”œâ”€â”€ Gravity: (0, 300, 0)
â”‚       â”œâ”€â”€ Rotation: Â±360Â°/sec
â”‚       â”œâ”€â”€ Scale: 3-8 pixels
â”‚       â””â”€â”€ Colors: Pink â†’ Yellow â†’ Blue
â”‚
â””â”€â”€ UI (CanvasLayer)
    â””â”€â”€ YearLabel (Label)
        â”œâ”€â”€ Position: (20, 20)
        â”œâ”€â”€ Size: 380Ã—30
        â”œâ”€â”€ Font: 24px
        â””â”€â”€ Text: "Forever & Always ğŸ’•"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Script Connections:

1. room_final.gd (Main Room Script)
   â”œâ”€â”€ @onready var confetti_left = $ConfettiLeft
   â”œâ”€â”€ @onready var confetti_right = $ConfettiRight
   â”œâ”€â”€ @onready var text_box = $DraggableTextBox
   â””â”€â”€ func _on_center_area_body_entered(body):
       â””â”€â”€ Triggers both confetti emitters

2. draggable_textbox.gd (Text Box Script)
   â”œâ”€â”€ var dragging = false
   â”œâ”€â”€ var drag_offset = Vector2.ZERO
   â”œâ”€â”€ func _ready():
   â”‚   â””â”€â”€ Sets default text and styling
   â””â”€â”€ func _input(event):
       â”œâ”€â”€ Detects mouse clicks on text box
       â””â”€â”€ Updates position while dragging

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Signal Flow:

Player Movement:
    â”‚
    â–¼
Player enters CenterArea
    â”‚
    â–¼
CenterArea emits body_entered signal
    â”‚
    â–¼
room_final.gd receives signal
    â”‚
    â–¼
Checks: body.name == "Player" && !confetti_played
    â”‚
    â–¼
confetti_left.emitting = true
confetti_right.emitting = true
confetti_played = true
    â”‚
    â–¼
ğŸ‰ CELEBRATION! ğŸ‰

Mouse Interaction:
    â”‚
    â–¼
User clicks on text box
    â”‚
    â–¼
draggable_textbox.gd detects click
    â”‚
    â–¼
Checks if mouse is over text box
    â”‚
    â–¼
Sets dragging = true
Stores drag_offset
    â”‚
    â–¼
User moves mouse while holding click
    â”‚
    â–¼
Text box position = mouse_pos + drag_offset
    â”‚
    â–¼
User releases mouse
    â”‚
    â–¼
Sets dragging = false

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Node Hierarchy Summary:

Total Nodes: 15
â”œâ”€â”€ Core Nodes: 1 (Room6)
â”œâ”€â”€ Visual Nodes: 3 (ColorRect, Label, Floor.ColorRect)
â”œâ”€â”€ Physics Nodes: 3 (Floor, CenterArea, Player)
â”œâ”€â”€ UI Nodes: 3 (DraggableTextBox, UI, YearLabel)
â””â”€â”€ Effects Nodes: 2 (ConfettiLeft, ConfettiRight)

Total Scripts: 2
â”œâ”€â”€ room_final.gd (Room logic)
â””â”€â”€ draggable_textbox.gd (Text box behavior)

Total Connections: 1
â””â”€â”€ CenterArea.body_entered â†’ Room6._on_center_area_body_entered

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
